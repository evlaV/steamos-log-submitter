BUG: unable to handle page fault for address: 00000000000329a0
#PF: supervisor write access in kernel mode
#PF: error_code(0x0002) - not-present page
PGD 0 P4D 0 
Oops: 0002 [#1] PREEMPT SMP NOPTI
CPU: 3 PID: 2561 Comm: flibitTest Not tainted 6.1.52-valve9-1-neptune-61-00002-g985d0b7eb257 #36 fac4f22e47ed1eee57fa8b3c91193b17cf403288
Hardware name: Valve Jupiter/Jupiter, BIOS F7A0119 10/24/2023
RIP: 0010:queued_spin_lock_slowpath+0x24f/0x2b0
Code: 90 48 8b 55 00 48 85 d2 74 f5 eb d5 c1 ea 12 83 e0 03 83 ea 01 48 c1 e0 04 48 63 d2 48 05 80 29 03 00 48 03 04 d5 60 88 7b 9a <48> 89 28 8b 45 08 85 c0 75 09 f3 90 8b 45 08 85 c0 74 f7 48 8b 55
RSP: 0018:ffffbd6348347ba0 EFLAGS: 00010206
RAX: 00000000000329a0 RBX: ffff97922f5a7010 RCX: ffff979233bda080
RDX: 0000000000000bd5 RSI: 000000002f5a7008 RDI: ffff97922f5a7010
RBP: ffff97946ecf2980 R08: 0000000000000000 R09: ffffbd6348347ae0
R10: 0000000000000003 R11: ffff97947ef7ffe8 R12: 0000000000100000
R13: 0000000000000001 R14: 0000000000100000 R15: ffff97923979ba00
FS:  00007fc0bdab1440(0000) GS:ffff97946ecc0000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00000000000329a0 CR3: 0000000228706000 CR4: 0000000000350ee0
Call Trace:
 <TASK>
 ? __die_body.cold+0x1a/0x1f
 ? page_fault_oops+0x15a/0x2d0
 ? exc_page_fault+0x6d/0x150
 ? asm_exc_page_fault+0x26/0x30
 ? queued_spin_lock_slowpath+0x24f/0x2b0
 __mutex_lock.constprop.0+0xe3/0x690
 uinput_request_submit+0xe3/0x230 [uinput ce721597fa6c52f872c84a4804b5c903d0a5f5b8]
 uinput_dev_upload_effect.cold+0x1d/0x22 [uinput ce721597fa6c52f872c84a4804b5c903d0a5f5b8]
 input_ff_upload+0x1c1/0x2d0
 evdev_do_ioctl+0x8c4/0xbc0
 ? evdev_do_ioctl+0x2f4/0xbc0
 evdev_ioctl+0x67/0x90
 __x64_sys_ioctl+0x94/0xd0
 do_syscall_64+0x60/0x90
 ? do_syscall_64+0x6c/0x90
 ? evdev_ioctl+0x72/0x90
 ? __x64_sys_ioctl+0xac/0xd0
 ? syscall_exit_to_user_mode+0x26/0x40
 ? do_syscall_64+0x6c/0x90
 ? syscall_exit_to_user_mode+0x26/0x40
 ? do_syscall_64+0x6c/0x90
 ? syscall_exit_to_user_mode+0x26/0x40
 ? do_syscall_64+0x6c/0x90
 ? do_syscall_64+0x6c/0x90
 entry_SYSCALL_64_after_hwframe+0x64/0xce
RIP: 0033:0x7fc0bdf9c76f
Code: 00 48 89 44 24 18 31 c0 48 8d 44 24 60 c7 04 24 10 00 00 00 48 89 44 24 08 48 8d 44 24 20 48 89 44 24 10 b8 10 00 00 00 0f 05 <89> c2 3d 00 f0 ff ff 77 18 48 8b 44 24 18 64 48 2b 04 25 28 00 00
RSP: 002b:00007ffe1f0c4410 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fc0bdf9c76f
RDX: 00005575258767e0 RSI: 0000000040304580 RDI: 000000000000001b
RBP: 0000557525880900 R08: 0000000000000073 R09: 0000000000000001
R10: 0000000000000000 R11: 0000000000000246 R12: 0000000000000000
R13: 000055752588d250 R14: 00007ffe1f0c44e0 R15: 00005575258767e0
 </TASK>
Modules linked in: hid_microsoft ff_memless hidp uinput snd_seq_dummy snd_hrtimer snd_seq snd_seq_device nft_fib_inet nft_fib_ipv4 nft_fib_ipv6 nft_fib nft_reject_inet nf_reject_ipv4 nf_reject_ipv6 nft_reject nft_ct nft_chain_nat ccm algif_aead cbc des_generic libdes ecb nf_tables md4 ip6table_nat ip6table_mangle ip6table_raw ip6table_security iptable_nat nf_nat nf_conntrack nf_defrag_ipv6 nf_defrag_ipv4 iptable_mangle iptable_raw iptable_security nfnetlink ip6table_filter ip6_tables iptable_filter cmac algif_hash algif_skcipher intel_rapl_msr af_alg intel_rapl_common bnep edac_mce_amd ramoops reed_solomon snd_acp5x_i2s kvm_amd snd_acp5x_pcm_dma snd_soc_acp5x_mach amdgpu snd_sof_amd_vangogh kvm snd_sof_amd_acp irqbypass snd_sof_pci rtw88_8822ce crct10dif_pclmul rtw88_8822c crc32_pclmul snd_sof_xtensa_dsp rtw88_pci polyval_clmulni polyval_generic rtw88_core gf128mul ghash_clmulni_intel sha512_ssse3 snd_sof mac80211 btusb snd_soc_cs35l41_spi amdgpu_xcp_drv snd_hda_codec_hdmi
 snd_soc_cs35l41 btrtl snd_soc_wm_adsp snd_sof_utils aesni_intel joydev snd_hda_intel snd_soc_nau8821 atkbd drm_buddy btbcm libarc4 crypto_simd btintel cs_dsp gpu_sched snd_intel_dspcfg btmtk cryptd snd_soc_cs35l41_lib hid_multitouch libps2 rapl snd_intel_sdw_acpi pcspkr wdat_wdt bluetooth vivaldi_fmap mousedev snd_soc_core cfg80211 drm_ttm_helper snd_hda_codec tpm_crb ttm snd_compress ltrf216a tpm_tis snd_hda_core ac97_bus snd_pci_acp5x sp5100_tco drm_display_helper ecdh_generic snd_acp_config snd_pcm_dmaengine snd_hwdep i2c_piix4 snd_soc_acpi cec cdc_acm mmc_block rfkill ccp snd_pcm opt3001 video wmi snd_timer tpm_tis_core 8250_dw snd industrialio i2c_hid_acpi i2c_hid soundcore acpi_cpufreq hid_steam mac_hid pkcs8_key_parser crypto_user fuse loop dm_mod bpf_preload tpm ip_tables x_tables overlay ext4 crc16 mbcache jbd2 usbhid vfat fat btrfs blake2b_generic libcrc32c crc32c_generic xor raid6_pq sdhci_pci cqhci dwc3_pci serio_raw extcon_steamdeck leds_steamdeck
 steamdeck_hwmon sdhci nvme xhci_pci crc32c_intel nvme_core mmc_core i8042 xhci_pci_renesas nvme_common steamdeck serio spi_amd
CR2: 00000000000329a0
---[ end trace 0000000000000000 ]---
RIP: 0010:queued_spin_lock_slowpath+0x24f/0x2b0
Code: 90 48 8b 55 00 48 85 d2 74 f5 eb d5 c1 ea 12 83 e0 03 83 ea 01 48 c1 e0 04 48 63 d2 48 05 80 29 03 00 48 03 04 d5 60 88 7b 9a <48> 89 28 8b 45 08 85 c0 75 09 f3 90 8b 45 08 85 c0 74 f7 48 8b 55
RSP: 0018:ffffbd6348347ba0 EFLAGS: 00010206
RAX: 00000000000329a0 RBX: ffff97922f5a7010 RCX: ffff979233bda080
RDX: 0000000000000bd5 RSI: 000000002f5a7008 RDI: ffff97922f5a7010
RBP: ffff97946ecf2980 R08: 0000000000000000 R09: ffffbd6348347ae0
R10: 0000000000000003 R11: ffff97947ef7ffe8 R12: 0000000000100000
R13: 0000000000000001 R14: 0000000000100000 R15: ffff97923979ba00
FS:  00007fc0bdab1440(0000) GS:ffff97946ecc0000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00000000000329a0 CR3: 0000000228706000 CR4: 0000000000350ee0
Kernel panic - not syncing: Fatal exception
NMI backtrace for cpu 3
CPU: 3 PID: 2561 Comm: flibitTest Tainted: G      D            6.1.52-valve9-1-neptune-61-00002-g985d0b7eb257 #36 fac4f22e47ed1eee57fa8b3c91193b17cf403288
Hardware name: Valve Jupiter/Jupiter, BIOS F7A0119 10/24/2023
Call Trace:
 <TASK>
 dump_stack_lvl+0x37/0x4a
 nmi_cpu_backtrace.cold+0x18/0x60
 ? lapic_can_unplug_cpu+0x70/0x70
 nmi_trigger_cpumask_backtrace+0xf2/0x110
 panic+0x138/0x2b0
 oops_end.cold+0x18/0x18
 page_fault_oops+0x17f/0x2d0
 exc_page_fault+0x6d/0x150
 asm_exc_page_fault+0x26/0x30
RIP: 0010:queued_spin_lock_slowpath+0x24f/0x2b0
Code: 90 48 8b 55 00 48 85 d2 74 f5 eb d5 c1 ea 12 83 e0 03 83 ea 01 48 c1 e0 04 48 63 d2 48 05 80 29 03 00 48 03 04 d5 60 88 7b 9a <48> 89 28 8b 45 08 85 c0 75 09 f3 90 8b 45 08 85 c0 74 f7 48 8b 55
RSP: 0018:ffffbd6348347ba0 EFLAGS: 00010206
RAX: 00000000000329a0 RBX: ffff97922f5a7010 RCX: ffff979233bda080
RDX: 0000000000000bd5 RSI: 000000002f5a7008 RDI: ffff97922f5a7010
RBP: ffff97946ecf2980 R08: 0000000000000000 R09: ffffbd6348347ae0
R10: 0000000000000003 R11: ffff97947ef7ffe8 R12: 0000000000100000
R13: 0000000000000001 R14: 0000000000100000 R15: ffff97923979ba00
 __mutex_lock.constprop.0+0xe3/0x690
 uinput_request_submit+0xe3/0x230 [uinput ce721597fa6c52f872c84a4804b5c903d0a5f5b8]
 uinput_dev_upload_effect.cold+0x1d/0x22 [uinput ce721597fa6c52f872c84a4804b5c903d0a5f5b8]
 input_ff_upload+0x1c1/0x2d0
 evdev_do_ioctl+0x8c4/0xbc0
 ? evdev_do_ioctl+0x2f4/0xbc0
 evdev_ioctl+0x67/0x90
 __x64_sys_ioctl+0x94/0xd0
 do_syscall_64+0x60/0x90
 ? do_syscall_64+0x6c/0x90
 ? evdev_ioctl+0x72/0x90
 ? __x64_sys_ioctl+0xac/0xd0
 ? syscall_exit_to_user_mode+0x26/0x40
 ? do_syscall_64+0x6c/0x90
 ? syscall_exit_to_user_mode+0x26/0x40
 ? do_syscall_64+0x6c/0x90
 ? syscall_exit_to_user_mode+0x26/0x40
 ? do_syscall_64+0x6c/0x90
 ? do_syscall_64+0x6c/0x90
 entry_SYSCALL_64_after_hwframe+0x64/0xce
RIP: 0033:0x7fc0bdf9c76f
Code: 00 48 89 44 24 18 31 c0 48 8d 44 24 60 c7 04 24 10 00 00 00 48 89 44 24 08 48 8d 44 24 20 48 89 44 24 10 b8 10 00 00 00 0f 05 <89> c2 3d 00 f0 ff ff 77 18 48 8b 44 24 18 64 48 2b 04 25 28 00 00
RSP: 002b:00007ffe1f0c4410 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fc0bdf9c76f
RDX: 00005575258767e0 RSI: 0000000040304580 RDI: 000000000000001b
RBP: 0000557525880900 R08: 0000000000000073 R09: 0000000000000001
R10: 0000000000000000 R11: 0000000000000246 R12: 0000000000000000
R13: 000055752588d250 R14: 00007ffe1f0c44e0 R15: 00005575258767e0
 </TASK>
